import{j as e,h as g,I as C,r as i,C as b,i as v}from"./index-B9WDMZlr.js";import{C as F}from"./CardsTable-6_vHaa3N.js";import{T as m,a as f,b as o}from"./tabs-fsT69rTt.js";import{R as _}from"./RarityFilter-rZ_j1drw.js";const y=({expansionFilter:r,setExpansionFilter:s})=>e.jsx(m,{value:r,onValueChange:t=>s(t),className:"w-full",children:e.jsxs(f,{className:"w-full flex-wrap h-auto lg:h-[40px] border-2 border-slate-600 rounded-md",children:[e.jsx(o,{value:"all",children:"All"}),g.map(t=>e.jsx(o,{value:t.id,children:t.name},`tab_trigger_${t.id}`))]})}),N=({ownedFilter:r,setOwnedFilter:s})=>e.jsx(m,{value:r,onValueChange:t=>s(t),className:"w-50",children:e.jsxs(f,{className:"w-full flex-wrap h-auto lg:h-10 bg-neutral-50 border-2 border-slate-600 rounded-md",children:[e.jsx(o,{value:"all",children:"All"}),e.jsx(o,{value:"missing",children:"Missing"}),e.jsx(o,{value:"owned",children:"Owned"})]})});let x=null;const T=({setSearchValue:r})=>e.jsx(C,{type:"search",placeholder:"Search...",className:"w-full md:w-64 border-2 h-[38px]",style:{borderColor:"#45556C"},onChange:s=>{x&&window.clearTimeout(x),x=window.setTimeout(()=>{r(s.target.value)},500)}});function V(){const{ownedCards:r}=i.use(b),[s,t]=i.useState(""),[c,h]=i.useState("all"),[u,w]=i.useState([]),[n,p]=i.useState("all"),j=i.useMemo(()=>{let l=v;return c!=="all"&&(l=l.filter(a=>a.expansion===c)),n!=="all"&&(n==="owned"?l=l.filter(a=>r.find(d=>d.card_id===a.card_id&&d.amount_owned>0)):n==="missing"&&(l=l.filter(a=>!r.find(d=>d.card_id===a.card_id&&d.amount_owned>0)))),u.length>0&&(l=l.filter(a=>u.includes(a.rarity))),s&&(l=l.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())||a.card_id.toLowerCase().includes(s.toLowerCase()))),l},[c,u,s,n,r]);return e.jsxs("div",{className:"flex flex-col gap-y-1 mx-auto max-w-[900px]",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-col md:flex-row px-8",children:[e.jsx(T,{setSearchValue:t}),e.jsx(y,{expansionFilter:c,setExpansionFilter:h})]}),e.jsxs("div",{className:"items-center justify-between gap-2 flex-col md:flex-row px-8 hidden md:flex",children:[e.jsx(N,{ownedFilter:n,setOwnedFilter:p}),e.jsx(_,{rarityFilter:u,setRarityFilter:w})]}),e.jsx("div",{children:e.jsx(F,{cards:j})})]})}export{V as default};
