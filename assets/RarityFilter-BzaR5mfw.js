import{r as c,a2 as G,X as y,j as o,a3 as ce,k as O,Y as ue,a4 as E,l as b,a0 as m,a5 as I,a1 as S,a6 as de,a7 as pe,a8 as ve,a9 as ge,aa as fe,ab as xe,ac as he,ad as me,ae as Pe,e as w,R as f,Z as F,$ as Ce,W as be,_ as je,af as Re,ag as ye,ah as we,ai as Ne,u as _e,B as Te}from"./index-A3xiihfl.js";var _="Popover",[M,qe]=O(_,[G]),j=G(),[Ae,h]=M(_),D=e=>{const{__scopePopover:s,children:t,open:a,defaultOpen:r,onOpenChange:n,modal:l=!1}=e,i=j(s),u=c.useRef(null),[d,p]=c.useState(!1),[v=!1,x]=y({prop:a,defaultProp:r,onChange:n});return o.jsx(ce,{...i,children:o.jsx(Ae,{scope:s,contentId:ue(),triggerRef:u,open:v,onOpenChange:x,onOpenToggle:c.useCallback(()=>x(N=>!N),[x]),hasCustomAnchor:d,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:t})})};D.displayName=_;var $="PopoverAnchor",ke=c.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,r=h($,t),n=j(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=r;return c.useEffect(()=>(l(),()=>i()),[l,i]),o.jsx(I,{...n,...a,ref:s})});ke.displayName=$;var V="PopoverTrigger",z=c.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,r=h(V,t),n=j(t),l=E(s,r.triggerRef),i=o.jsx(b.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":U(r.open),...a,ref:l,onClick:m(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?i:o.jsx(I,{asChild:!0,...n,children:i})});z.displayName=V;var T="PopoverPortal",[Ge,Oe]=M(T,{forceMount:void 0}),L=e=>{const{__scopePopover:s,forceMount:t,children:a,container:r}=e,n=h(T,s);return o.jsx(Ge,{scope:s,forceMount:t,children:o.jsx(S,{present:t||n.open,children:o.jsx(de,{asChild:!0,container:r,children:a})})})};L.displayName=T;var P="PopoverContent",B=c.forwardRef((e,s)=>{const t=Oe(P,e.__scopePopover),{forceMount:a=t.forceMount,...r}=e,n=h(P,e.__scopePopover);return o.jsx(S,{present:a||n.open,children:n.modal?o.jsx(Ee,{...r,ref:s}):o.jsx(Ie,{...r,ref:s})})});B.displayName=P;var Ee=c.forwardRef((e,s)=>{const t=h(P,e.__scopePopover),a=c.useRef(null),r=E(s,a),n=c.useRef(!1);return c.useEffect(()=>{const l=a.current;if(l)return pe(l)},[]),o.jsx(ve,{as:ge,allowPinchZoom:!0,children:o.jsx(H,{...e,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),n.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,d=i.button===2||u;n.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ie=c.forwardRef((e,s)=>{const t=h(P,e.__scopePopover),a=c.useRef(!1),r=c.useRef(!1);return o.jsx(H,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,n),n.defaultPrevented||(a.current||(i=t.triggerRef.current)==null||i.focus(),n.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:n=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=n.target;((d=t.triggerRef.current)==null?void 0:d.contains(l))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&r.current&&n.preventDefault()}})}),H=c.forwardRef((e,s)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,...v}=e,x=h(P,t),N=j(t);return fe(),o.jsx(xe,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:n,children:o.jsx(he,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>x.onOpenChange(!1),children:o.jsx(me,{"data-state":U(x.open),role:"dialog",id:x.contentId,...N,...v,ref:s,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K="PopoverClose",Se=c.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,r=h(K,t);return o.jsx(b.button,{type:"button",...a,ref:s,onClick:m(e.onClick,()=>r.onOpenChange(!1))})});Se.displayName=K;var Fe="PopoverArrow",Me=c.forwardRef((e,s)=>{const{__scopePopover:t,...a}=e,r=j(t);return o.jsx(Pe,{...r,...a,ref:s})});Me.displayName=Fe;function U(e){return e?"open":"closed"}var De=D,$e=z,Ve=L,W=B;const ze=De,Le=$e,Z=c.forwardRef(({className:e,align:s="center",sideOffset:t=4,...a},r)=>o.jsx(Ve,{children:o.jsx(W,{ref:r,align:s,sideOffset:t,className:w("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...a})}));Z.displayName=W.displayName;var Be="Toggle",X=c.forwardRef((e,s)=>{const{pressed:t,defaultPressed:a=!1,onPressedChange:r,...n}=e,[l=!1,i]=y({prop:t,onChange:r,defaultProp:a});return o.jsx(b.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...n,ref:s,onClick:m(e.onClick,()=>{e.disabled||i(!l)})})});X.displayName=Be;var C="ToggleGroup",[Y,Je]=O(C,[F]),q=F(),A=f.forwardRef((e,s)=>{const{type:t,...a}=e;if(t==="single"){const r=a;return o.jsx(He,{...r,ref:s})}if(t==="multiple"){const r=a;return o.jsx(Ke,{...r,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${C}\``)});A.displayName=C;var[J,Q]=Y(C),He=f.forwardRef((e,s)=>{const{value:t,defaultValue:a,onValueChange:r=()=>{},...n}=e,[l,i]=y({prop:t,defaultProp:a,onChange:r});return o.jsx(J,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:i,onItemDeactivate:f.useCallback(()=>i(""),[i]),children:o.jsx(ee,{...n,ref:s})})}),Ke=f.forwardRef((e,s)=>{const{value:t,defaultValue:a,onValueChange:r=()=>{},...n}=e,[l=[],i]=y({prop:t,defaultProp:a,onChange:r}),u=f.useCallback(p=>i((v=[])=>[...v,p]),[i]),d=f.useCallback(p=>i((v=[])=>v.filter(x=>x!==p)),[i]);return o.jsx(J,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:d,children:o.jsx(ee,{...n,ref:s})})});A.displayName=C;var[Ue,We]=Y(C),ee=f.forwardRef((e,s)=>{const{__scopeToggleGroup:t,disabled:a=!1,rovingFocus:r=!0,orientation:n,dir:l,loop:i=!0,...u}=e,d=q(t),p=be(l),v={role:"group",dir:p,...u};return o.jsx(Ue,{scope:t,rovingFocus:r,disabled:a,children:r?o.jsx(je,{asChild:!0,...d,orientation:n,dir:p,loop:i,children:o.jsx(b.div,{...v,ref:s})}):o.jsx(b.div,{...v,ref:s})})}),R="ToggleGroupItem",oe=f.forwardRef((e,s)=>{const t=Q(R,e.__scopeToggleGroup),a=We(R,e.__scopeToggleGroup),r=q(e.__scopeToggleGroup),n=t.value.includes(e.value),l=a.disabled||e.disabled,i={...e,pressed:n,disabled:l},u=f.useRef(null);return a.rovingFocus?o.jsx(Ce,{asChild:!0,...r,focusable:!l,active:n,ref:u,children:o.jsx(k,{...i,ref:s})}):o.jsx(k,{...i,ref:s})});oe.displayName=R;var k=f.forwardRef((e,s)=>{const{__scopeToggleGroup:t,value:a,...r}=e,n=Q(R,t),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=n.type==="single"?l:void 0;return o.jsx(X,{...i,...r,ref:s,onPressedChange:u=>{u?n.onItemActivate(a):n.onItemDeactivate(a)}})}),te=A,re=oe,Ze="Toggle",ae=c.forwardRef((e,s)=>{const{pressed:t,defaultPressed:a=!1,onPressedChange:r,...n}=e,[l=!1,i]=Re({prop:t,onChange:r,defaultProp:a});return o.jsx(ye.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...n,ref:s,onClick:we(e.onClick,()=>{e.disabled||i(!l)})})});ae.displayName=Ze;var se=ae;const ne=Ne("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"border border-neutral-200 bg-transparent shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=c.forwardRef(({className:e,variant:s,size:t,...a},r)=>o.jsx(se,{ref:r,className:w(ne({variant:s,size:t,className:e})),...a}));Xe.displayName=se.displayName;const le=c.createContext({size:"default",variant:"default"}),ie=c.forwardRef(({className:e,variant:s,size:t,children:a,...r},n)=>o.jsx(te,{ref:n,className:w("flex items-center justify-center gap-1",e),...r,children:o.jsx(le.Provider,{value:{variant:s,size:t},children:a})}));ie.displayName=te.displayName;const g=c.forwardRef(({className:e,children:s,variant:t,size:a,...r},n)=>{const l=c.useContext(le);return o.jsx(re,{ref:n,className:w(ne({variant:l.variant||t,size:l.size||a}),e),...r,children:s})});g.displayName=re.displayName;const Qe=({rarityFilter:e,setRarityFilter:s,deckbuildingMode:t,collapse:a})=>{const{t:r}=_e("rarity-filter");c.useEffect(()=>{if(t){const l=["◊","◊◊","◊◊◊","◊◊◊◊"];s(e.filter(i=>l.includes(i)))}},[t]);const n=c.useMemo(()=>o.jsxs(ie,{variant:"outline",type:"multiple",size:"sm",value:e,onValueChange:l=>s(l),className:`justify-center shadow-none border-2 border-slate-600 rounded-md flex-wrap ${a?"flex-col":"flex-row"}`,children:[o.jsx(g,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500",children:"♢"}),o.jsx(g,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢"}),o.jsx(g,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢♢"}),o.jsx(g,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢♢♢"}),!t&&o.jsxs(o.Fragment,{children:[o.jsx(g,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500",children:"☆"}),o.jsx(g,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500",children:"☆☆"}),o.jsx(g,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500",children:"☆☆☆"}),o.jsx(g,{value:"✵","aria-label":"✵",className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400",children:"✵"}),o.jsx(g,{value:"✵✵","aria-label":"✵✵",className:"text-pink-300 hover:text-pink-500 data-[state=on]:text-pink-400",children:"✵✵"}),o.jsx(g,{value:"Crown Rare","aria-label":"♛",children:"👑"})]})]}),[e,a,t]);return a?o.jsxs(ze,{children:[o.jsx(Le,{asChild:!0,children:o.jsxs(Te,{variant:"outline",children:[r("filters")," (",e.length,")"]})}),o.jsx(Z,{className:"w-32",children:n})]}):n};export{Qe as R};
