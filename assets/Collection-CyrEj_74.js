const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TradeMatches-qRvfDxUA.js","assets/index-B_YTKvY7.js","assets/index-BKKukh8w.css","assets/SocialShareButtons-BKig2MPh.js","assets/index-CzyB3cWA.js","assets/RarityFilter-Ca1pcRsz.js","assets/index-DPV-RUA4.js"])))=>i.map(i=>d[i]);
import{e as xe,j as e,s as R,t as D,u as B,r as u,B as S,D as ee,v as te,x as ae,y as ne,M as he,z as me,A as pe,U as se,C as z,E as fe,F as ge,G as we,H as je,J as re,K as Ce,L as ye,q as be,S as Ne,N as ke,O as ve,Q as Se,T as Me,V as Te,W as _e,X as Ie,Y as Be,Z as De,_ as Pe,$ as Fe}from"./index-B_YTKvY7.js";import{u as Ee,C as He,a as Re}from"./CardDetail-BbsGx5xV.js";import{F as U,P as Oe,u as $e}from"./Card-CicTL2zW.js";import{A as le,b as oe,a as Ae}from"./alert-CpWz-Yjn.js";import{E as Z,P as Le,D as ze,M as G,C as Ue,u as Ve}from"./index-DPV-RUA4.js";import{T as qe,a as We,b as A,c as Ze,d as K,P as Ge,e as Ke,f as Qe,R as Q,N as Y}from"./RarityFilter-Ca1pcRsz.js";import{S as Ye}from"./siren-DPkr-dnc.js";import"./index-CzyB3cWA.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Xe=xe("trophy",Je);function et({card:n,onSelect:o,selected:t}){const s=()=>{o(n.card_id,!t)};return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(U,{card:n,selected:t,setIsSelected:s,size:"small"}),e.jsx("p",{className:"text-xs text-center mt-1",children:R(n,D.language)})]})}const tt=({children:n,className:o})=>e.jsx("div",{className:`max-h-[300px] overflow-y-auto border border-gray-300 rounded-md ${o}`,style:{maxHeight:"300px"},children:n});function at({filteredCards:n,onBatchUpdate:o}){const{t}=B("bulk-update"),[s,f]=u.useState(!1),[l,i]=u.useState(0),[x,g]=u.useState({}),[v,w]=u.useState(!1),[C,j]=u.useState(!1),m=n.length===0,y=u.useMemo(()=>n.reduce((c,d)=>(c.some(p=>p.card_id===d.card_id)||c.push(d),c),[]),[n]);u.useEffect(()=>{if(s){const c=y.reduce((d,p)=>(d[p.card_id]=!0,d),{});g(c)}s||j(!1)},[s]);const M=(c,d)=>{g(p=>({...p,[c]:d}))},T=()=>{const c=y.reduce((d,p)=>(d[p.card_id]=!0,d),{});g(c)},b=()=>{const c=y.reduce((d,p)=>(d[p.card_id]=!1,d),{});g(c)},_=Object.values(x).filter(c=>c).length,N=()=>{l!==null&&(l>0?i(c=>(c||0)-1):l===0&&i(0)),j(!0)},E=()=>{i(c=>c?c+1:1),j(!0)},I=c=>{const d=c.target.value.trim();if(d==="")i(0);else{const p=Number(d);Number.isNaN(p)?i(0):i(p<0?0:p)}j(!0)},P=async()=>{w(!0);const c=Object.entries(x).filter(([d,p])=>p).map(([d])=>d);c.length>0&&(await o(c,l),f(!1),w(!1))};return e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"hidden sm:block",variant:"outline",onClick:()=>f(!0),disabled:m,children:t("buttonTitle")}),e.jsx(ee,{open:s,onOpenChange:f,children:e.jsxs(te,{className:"max-w-2xl",children:[e.jsx(ae,{children:e.jsx(ne,{children:t("title")})}),e.jsx(le,{variant:"destructive",children:e.jsxs(oe,{children:[t("alert.beforeCount"),e.jsxs("strong",{children:[e.jsx("span",{style:{fontSize:"1.25rem",color:"#f3f4f6",padding:"0.25rem 0.5rem",borderRadius:"0.375rem",margin:"0 0.25rem"},children:_})," ",t("alert.cards")]})," ",t("alert.afterCount"),e.jsx("strong",{children:t("alert.warning")})]})}),e.jsxs("div",{className:"flex gap-2 justify-between",children:[e.jsx(S,{variant:"outline",onClick:b,children:t("deselectAll")}),e.jsx(S,{variant:"outline",onClick:T,children:t("selectAll")})]}),e.jsx(tt,{className:"h-64 rounded-md border p-4",children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:y.map(c=>e.jsx(et,{card:c,onSelect:M,selected:x[c.card_id]},c.card_id))})}),e.jsxs("div",{className:"flex items-center gap-x-1 justify-center",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:N,disabled:l===null||l===0,className:"rounded-full",children:e.jsx(he,{size:14})}),e.jsx("input",{type:"text",min:"0",value:l??0,onChange:I,placeholder:t("enterAmount"),className:"w-7 text-center border-none rounded",onFocus:c=>c.target.select()}),e.jsx(S,{variant:"ghost",size:"icon",onClick:E,className:"rounded-full",children:e.jsx(Oe,{size:14})})]}),e.jsxs(me,{children:[e.jsx(S,{variant:"outline",onClick:()=>f(!1),children:t("cancel")}),e.jsxs(S,{onClick:P,disabled:_===0||v||!C,variant:"default",children:[v&&e.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),e.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),t(v?"batchProcessing":"batchUpdate")]})]})]})})]})}const J=({ownedFilter:n,setOwnedFilter:o,fullWidth:t})=>{const{t:s}=B("owned-filter");return e.jsx(qe,{value:n,onValueChange:f=>o(f),className:t?"w-full":"w-70",children:e.jsxs(We,{className:"w-full flex-wrap h-auto lg:h-10 bg-neutral-50 border-1 border-neutral-700 rounded-md",children:[e.jsx(A,{value:"all",children:s("all")}),e.jsx(A,{value:"missing",children:s("missing")}),e.jsx(A,{value:"owned",children:s("owned")})]})})};let L=null;const X=({setSearchValue:n,fullWidth:o})=>{const{t}=B("search-input");return e.jsx(pe,{type:"search",placeholder:t("search"),className:`w-full ${o?"":"sm:w-32"} border-2 h-[38px] bg-neutral-800`,style:{borderColor:"#45556C"},onChange:s=>{L&&window.clearTimeout(L),L=window.setTimeout(()=>{n(s.target.value)},500)}})},nt=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless","trainer",""],st=({cardTypeFilter:n,setCardTypeFilter:o,collapse:t})=>{const{t:s}=B("card-type-filter"),f=u.useMemo(()=>e.jsxs(Ze,{variant:"outline",type:"multiple",size:"sm",value:n,onValueChange:l=>{o(l)},className:`justify-center shadow-none border-1 border-neutral-700 rounded-md flex-wrap ${t?"flex-col":"flex-row"}`,children:[nt.filter(l=>l!==""&&l!=="trainer").map(l=>e.jsx(K,{value:l,"aria-label":l,className:"text-gray-400 hover:text-gray-500 px-1",children:e.jsx("img",{src:`/images/energy/${l}.webp`,alt:l,className:"h-4"})},l)),e.jsx(K,{value:"trainer","aria-label":"trainer",className:"text-gray-400 hover:text-gray-500 px-1",children:"T"})]}),[n,t]);return t?e.jsxs(Ge,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[s("filters")," (",n.length,")"]})}),e.jsx(Qe,{className:"w-32",children:f})]}):f},rt=({sortBy:n,setSortBy:o})=>{const{t}=B("sort-by");return e.jsx("div",{className:"px-3 py-1 border-1 border-neutral-700 rounded-md",children:e.jsxs("label",{className:"flex items-center gap-x-2 text-white/50 text-sm",children:[e.jsx("h2",{children:t("sortBy")}),e.jsxs("select",{value:n,onChange:s=>o(s.target.value),className:"p-1",children:[e.jsx("option",{value:"default",className:"text-black",children:t("default")}),e.jsx("option",{value:"recent",className:"text-black",children:t("recent")})]})]})})},lt=({children:n,cards:o,filters:t,setFilters:s,onFiltersChanged:f,onChangeToMissions:l,visibleFilters:i,filtersDialog:x,batchUpdate:g,share:v})=>{const{t:w}=B(["pages/collection"]),{user:C,setIsProfileDialogOpen:j}=u.useContext(se),{ownedCards:m,setOwnedCards:y}=u.useContext(z),[M,T]=u.useState(D.language),b=a=>s(h=>({...h,search:a})),_=a=>s(h=>({...h,expansion:a})),N=a=>s(h=>({...h,pack:a})),E=a=>s(h=>({...h,cardType:a})),I=a=>s(h=>({...h,rarity:a})),P=a=>s(h=>({...h,owned:a})),c=a=>s(h=>({...h,sortBy:a})),d=a=>s(h=>({...h,minNumber:a})),p=a=>s(h=>({...h,maxNumber:a})),ie=a=>s(h=>({...h,deckbuildingMode:a})),ce=a=>t.rarity.length===0?!0:a.rarity!==""&&t.rarity.includes(a.rarity),de=a=>t.cardType.length===0?!0:a.card_type.toLowerCase()==="trainer"?t.cardType.includes("trainer"):a.energy!==""&&t.cardType.includes(a.energy.toLowerCase()),F=u.useMemo(()=>{var V;if(!o)return null;let a=fe;if(t.deckbuildingMode&&(a=a.filter(r=>ge.includes(r.rarity)||r.rarity===""||r.rarity==="P")),t.expansion!=="all"&&(a=a.filter(r=>r.expansion===t.expansion)),t.pack==="missions"){a=[];let r=((V=we.get(t.expansion))==null?void 0:V.missions)||null;r&&(t.owned==="owned"?r=r.filter(k=>k.completed):t.owned==="missing"&&(r=r.filter(k=>!k.completed))),l(r)}else l(null),t.pack!=="all"&&(a=a.filter(r=>r.pack===t.pack||r.pack==="everypack"));t.owned!=="all"&&(t.owned==="owned"?a=a.filter(r=>o.find(k=>k.card_id===r.card_id&&k.amount_owned>0)):t.owned==="missing"&&(a=a.filter(r=>!o.find(k=>k.card_id===r.card_id&&k.amount_owned>0)))),t.sortBy==="recent"&&(a=[...a].sort((r,k)=>{var q,W;const H=(q=o.find($=>$.card_id===r.card_id))==null?void 0:q.updated_at,O=(W=o.find($=>$.card_id===k.card_id))==null?void 0:W.updated_at;return H&&O?new Date(O).getTime()-new Date(H).getTime():H&&!O?-1:1})),a=a.filter(ce),a=a.filter(de),t.search&&(a=a.filter(r=>R(r,D.language).toLowerCase().includes(t.search.toLowerCase())||r.card_id.toLowerCase().includes(t.search.toLowerCase())));const h=new Map(m.map(r=>[r.card_id,r.amount_owned]));for(const r of a)r.linkedCardID?r.amount_owned=0:t.deckbuildingMode?r.amount_owned=r.alternate_versions.reduce((k,H)=>k+(h.get(H.card_id)||0),0):r.amount_owned=h.get(r.card_id)||0;return a=a.filter(r=>(r.amount_owned||0)>=t.minNumber),t.maxNumber!==100&&(a=a.filter(r=>(r.amount_owned||0)<=t.maxNumber)),a},[o,t,M]);u.useEffect(()=>{f(F);const a=h=>{T(h)};return D.on("languageChanged",a),()=>{D.off("languageChanged",a)}},[F]);const ue=async(a,h)=>{await $e(a,h,m,y,C)};return e.jsxs("div",{id:"filterbar",className:"flex flex-col gap-x-2 flex-wrap",children:[n,e.jsx("div",{className:"flex items-center gap-2 flex-col md:flex-row gap-y-1 px-4 mb-2",children:(i==null?void 0:i.expansions)&&e.jsx(Z,{expansionFilter:t.expansion,setExpansionFilter:_,setPackFilter:N,packFilter:t.pack,showPacks:!0})}),e.jsxs("div",{className:"items-center gap-2 flex-row gap-y-1 px-4 flex",children:[(i==null?void 0:i.search)&&e.jsx(X,{setSearchValue:b}),(i==null?void 0:i.owned)&&e.jsx(J,{ownedFilter:t.owned,setOwnedFilter:P}),(i==null?void 0:i.rarity)&&e.jsx(Q,{rarityFilter:t.rarity,setRarityFilter:I,collapse:!0}),x&&e.jsxs(ee,{children:[e.jsx(je,{asChild:!0,children:e.jsx(S,{variant:"outline",children:w("filters.allFilters")})}),e.jsxs(te,{className:"border-1 border-neutral-700 shadow-none max-h-[90vh] overflow-y-auto content-start",children:[e.jsx(ae,{children:e.jsx(ne,{children:w("filters.filtersCount",{count:(F||[]).filter(a=>!a.linkedCardID).length})})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[x.search&&e.jsx(X,{setSearchValue:b,fullWidth:!0}),x.expansions&&e.jsx(Z,{expansionFilter:t.expansion,setExpansionFilter:_,setPackFilter:N,packFilter:t.pack}),x.pack&&e.jsx(Le,{packFilter:t.pack,setPackFilter:N,expansion:t.expansion,fullWidth:!0}),x.rarity&&e.jsx(Q,{rarityFilter:t.rarity,setRarityFilter:I}),x.cardType&&e.jsx(st,{cardTypeFilter:t.cardType,setCardTypeFilter:E}),x.owned&&e.jsx(J,{ownedFilter:t.owned,setOwnedFilter:P,fullWidth:!0}),x.sortBy&&e.jsx(rt,{sortBy:t.sortBy,setSortBy:c}),x.amount&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{numberFilter:t.minNumber,setNumberFilter:d,options:[0,1,2,3,4,5,6,7,8,9],labelKey:"minNum"}),e.jsx(Y,{numberFilter:t.maxNumber,setNumberFilter:p,options:[1,2,3,4,5,6,7,8,9,10,100],labelKey:"maxNum"})]}),x.deckBuildingMode&&e.jsx(ze,{deckbuildingMode:t.deckbuildingMode,setDeckbuildingMode:ie}),e.jsx(S,{variant:"outline",className:"!text-red-700",onClick:()=>s({search:"",expansion:"all",pack:"all",cardType:[],rarity:[],owned:"all",sortBy:"default",minNumber:0,maxNumber:100,deckbuildingMode:!1}),children:w("filters.clear")})]})]})]}),g&&e.jsx(at,{filteredCards:F||[],onBatchUpdate:ue,disabled:!F||F.length===0}),v&&e.jsx(S,{variant:"outline",onClick:()=>j(!0),children:w("filters.share")})]})]})};function ot({mission:n}){const{width:o}=Ee(),{t}=B("common/packs"),{ownedCards:s,setSelectedCardId:f,setSelectedMissionCardOptions:l}=u.use(z);let i=5,x=Math.min(o,890)/5+120;o>600&&o<800?(i=4,x=o/3+50):o<=600&&(i=3,x=o/3+100);const g=u.useMemo(()=>{let w=!0;const C=n.requiredCards.flatMap(m=>{let y=s.reduce((T,b)=>{const _=m.options.find(N=>N===b.card_id);if(_)for(let N=0;N<b.amount_owned;N++)T.push({cardId:_,owned:!0,missionCardOptions:m.options});return T},[]);y.length>m.amount&&(y=y.slice(0,m.amount));const M=m.amount-y.length;for(let T=0;T<M;T++)y.push({cardId:m.options[0],owned:!1,missionCardOptions:m.options});return w=w&&M===0,y});n.completed=w;const j=[];for(let m=0;m<C.length;m+=i)j.push(C.slice(m,m+i));return j},[i]),v=x*g.length+72;return e.jsxs("div",{style:{height:`${v}px`},className:"relative w-full",children:[e.jsx("div",{style:{height:`${v}px`},className:"relative w-full",children:g.map((w,C)=>e.jsx("div",{style:{height:`${x}px`,transform:`translateY(${x*C+72}px)`},className:"absolute top-0 left-0 w-full",children:e.jsx("div",{className:"flex justify-start gap-x-3",children:w.map(j=>{const m=re(j.cardId);return m&&e.jsxs("div",{className:"group flex w-fit max-w-32 md:max-w-40 flex-col items-center rounded-lg cursor-pointer",children:[e.jsx("div",{onClick:()=>j.owned?f(j.cardId):l(j.missionCardOptions),children:e.jsx(U,{card:m,selected:j.owned})}),e.jsxs("p",{className:"max-w-[130px] overflow-hidden text-ellipsis whitespace-nowrap font-semibold text-[12px] pt-2",children:[j.cardId," - ",R(m,D.language)]})]})})})},C))}),e.jsx("div",{style:{height:"72px"},className:"absolute top-0 left-0 w-full",children:e.jsxs("h2",{className:"flex items-center gap-x-4 mx-auto mt-10 w-full max-w-[900px] scroll-m-20 border-b-2 border-slate-600 pb-2 font-semibold text-md sm:text-lg md:text-2xl tracking-tight transition-colors first:mt-0",children:[n.name,e.jsx(G,{id:`rewardDescription${n.name}`,style:{maxWidth:"300px",whiteSpace:"normal",fontSize:16},clickable:!0}),e.jsx(Xe,{className:"h-6 w-6","data-tooltip-id":`rewardDescription${n.name}`,"data-tooltip-html":n.reward}),e.jsx(G,{id:`probability${n.name}`,style:{maxWidth:"300px",whiteSpace:"normal",fontSize:16},clickable:!0}),e.jsx(Ue,{className:"h-6 w-6","data-tooltip-id":`probability${n.name}`,"data-tooltip-html":n.completed?"Completed!":Ce(n,g).filter(([w,C])=>w!=="everypack"&&C>0).map(([w,C])=>`${t(w)}: ${C.toFixed(2)}%`).join("<br/>")})]})},"header")]})}function it({missions:n,resetScrollTrigger:o}){const t=u.useRef(null),[s,f]=u.useState("auto");return u.useLayoutEffect(()=>{const l=()=>{var i,x;if(t.current){const g=((i=document.querySelector("#header"))==null?void 0:i.offsetHeight)||0,v=((x=document.querySelector("#filterbar"))==null?void 0:x.offsetHeight)||0,w=window.innerHeight-g-v;f(`${w}px`)}};return l(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),u.useEffect(()=>{t.current&&(t.current.scrollTop=0)},[o]),e.jsx("div",{ref:t,className:"overflow-y-auto mt-2 sm:mt-4 px-4 flex flex-col justify-start",style:{scrollbarWidth:"none",height:s},children:n.map(l=>e.jsx(ot,{mission:l},l.name))})}function ct({missionCardOptions:n,onClose:o}){const{t}=B(["common/sets","common/packs","pages/collection"]),s=n[0]||"",f=s.length>0?s.split("-")[0]:"Unknown",l=ye(f)||be[0],i=l.name;return e.jsx(Ne,{open:!!n.length,onOpenChange:x=>{x||o()},children:e.jsxs(ke,{className:"transition-all duration-300 ease-in-out border-slate-600 overflow-y-auto",children:[e.jsx(ve,{children:e.jsx(Se,{children:n.length===1?t("missionDetail.eligibleCards-singular",{ns:"pages/collection",options:1}):t("missionDetail.eligibleCards-plural",{ns:"pages/collection",options:n.length})})}),t(i),n.map(x=>{const g=re(x);return g&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"px-10 py-4 w-full",children:e.jsx(U,{card:g,selected:!1})}),e.jsxs("p",{className:"max-w-[130px] whitespace-nowrap font-semibold text-[12px] pt-2",children:[x," - ",R(g,D.language),e.jsx("br",{}),t("missionDetail.chanceFrom",{ns:"pages/collection",pack:t(g.pack,{ns:"common/packs"}),chance:Me(l,g.pack,g).toFixed(2)})]})]})})]})})}const dt=Pe(()=>Fe(()=>import("./TradeMatches-qRvfDxUA.js"),__vite__mapDeps([0,1,2,3,4,5,6])));function jt(){const n=Te(),o=_e(),t=Ie(),{t:s}=B(["pages/collection"]),f=Ve({query:"(max-width: 767px)"}),{ownedCards:l,selectedCardId:i,setSelectedCardId:x,selectedMissionCardOptions:g,setSelectedMissionCardOptions:v}=u.useContext(z),{account:w}=u.useContext(se),[C,j]=u.useState({search:"",expansion:"all",pack:"all",cardType:[],rarity:[],owned:"all",sortBy:"default",minNumber:0,maxNumber:100,deckbuildingMode:!1}),[m,y]=u.useState(!1),[M,T]=u.useState(null),[b,_]=u.useState(null),[N,E]=u.useState(null),[I,P]=u.useState(null);u.useEffect(()=>{const d=n.friendId;d&&!b?(console.log("fetching collection by friend id",d),Be(d).then(p=>{console.log("friend account",p),T(p)}).catch(console.error),De(void 0,d).then(p=>{p.length===0&&(console.log("not a public collection, going back to normal mode."),o("/collection")),_(p)}).catch(console.error)):!d&&b&&window.location.reload()},[n]),u.useEffect(()=>()=>{_(null)},[]);const c=u.useMemo(()=>n.friendId?b:l||[],[l,b]);return u.useEffect(()=>{y(!0);const d=setTimeout(()=>y(!1),100);return()=>clearTimeout(d)},[N]),e.jsxs("div",{className:"flex flex-col gap-y-1 mx-auto max-w-[900px]",children:[e.jsx(lt,{cards:c,filters:C,setFilters:j,onFiltersChanged:d=>E(d),onChangeToMissions:d=>P(d),visibleFilters:{expansions:!f,search:!0,owned:!f,rarity:!f},filtersDialog:{expansions:!0,pack:!0,search:!0,owned:!0,sortBy:!0,rarity:!0,cardType:!0,amount:!0,deckBuildingMode:!0},batchUpdate:!b,share:!0,children:e.jsx("div",{children:b&&e.jsxs(le,{className:"mb-4 border-1 border-neutral-700 shadow-none",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx(Ae,{children:s("publicCollectionTitle",{username:M==null?void 0:M.username})}),e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center",children:[s("publicCollectionDescription"),e.jsx(S,{className:"mb-4",onClick:()=>{o(`${t.pathname}/trade`)},children:s("showPossibleTrades")})]})})]})})}),e.jsxs("div",{children:[N&&!I&&e.jsx(He,{cards:N,resetScrollTrigger:m,showStats:!C.deckbuildingMode,extraOffset:24,editable:!C.deckbuildingMode}),i&&e.jsx(Re,{cardId:i,onClose:()=>x("")})]}),e.jsx("div",{children:I&&e.jsx(it,{missions:I,resetScrollTrigger:m})}),I&&e.jsx(ct,{missionCardOptions:g,onClose:()=>v([])}),e.jsx(dt,{ownedCards:l,friendCards:b||[],ownAccount:w,friendAccount:M})]})}export{jt as default};
