import{u as w,r as h,F as u,j as e,D as N,w as g,x as _,y as v}from"./index-Bxd0leEF.js";const i=["◊","◊◊","◊◊◊","◊◊◊◊","☆"],y=({isTradeMatchesDialogOpen:j,setIsTradeMatchesDialogOpen:f,ownedCards:d,friendCards:l})=>{const{t}=w("trade-matches"),o=h.useMemo(()=>{const a={"◊":[],"◊◊":[],"◊◊◊":[],"◊◊◊◊":[],"☆":[],"☆☆":[],"☆☆☆":[],"✵":[],"✵✵":[],"Crown Rare":[],Unknown:[],"":[]},n=l.filter(s=>s.amount_owned>=2),m=new Set(d.filter(s=>s.amount_owned>0).map(s=>s.card_id)),x=n.filter(s=>!m.has(s.card_id));for(const s of x){const r=u(s.card_id);r&&i.includes(r.rarity)&&a[r.rarity].push({...r,amount_owned:s.amount_owned})}return a},[d,l]),c=h.useMemo(()=>{const a={"◊":[],"◊◊":[],"◊◊◊":[],"◊◊◊◊":[],"☆":[],"☆☆":[],"☆☆☆":[],"✵":[],"✵✵":[],"Crown Rare":[],Unknown:[],"":[]},n=d.filter(s=>s.amount_owned>=2),m=new Set(l.filter(s=>s.amount_owned>0).map(s=>s.card_id)),x=n.filter(s=>!m.has(s.card_id));for(const s of x){const r=u(s.card_id);r&&i.includes(r.rarity)&&a[r.rarity].push({...r,amount_owned:s.amount_owned})}return a},[d,l]),p=h.useMemo(()=>i.some(a=>o[a].length>0&&c[a].length>0),[o,c]);return e.jsx(N,{open:j,onOpenChange:f,children:e.jsxs(g,{className:"border-2 border-slate-600 shadow-none max-w-4xl h-[90vh]",children:[e.jsx(_,{children:e.jsx(v,{children:t("title")})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[!p&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl text-gray-500",children:t("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:t("noPossibleTradesDescription")})]}),i.map(a=>o[a].length>0&&c[a].length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:t("friendHas")}),e.jsx("div",{className:"border rounded p-2 max-h-60 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:o[a].map(n=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"min-w-14 me-4",children:n.card_id}),e.jsx("div",{children:n.name})]}),e.jsxs("span",{className:"text-gray-500",children:["×",n.amount_owned]})]},n.card_id))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:t("youHave")}),e.jsx("div",{className:"border rounded p-2 max-h-60 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:c[a].map(n=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:n.name}),e.jsxs("span",{className:"text-gray-500",children:["×",n.amount_owned]})]},n.card_id))})})]})]})]},a))]})]})})};export{y as default};
