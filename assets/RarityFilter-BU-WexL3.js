import{r as c,$ as k,T as j,j as r,a0 as ce,k as I,V as ue,a1 as S,l as b,Z as m,a2 as D,_ as F,a3 as de,a4 as pe,a5 as ve,a6 as ge,a7 as fe,a8 as xe,a9 as he,aa as me,ab as Pe,e as y,R as g,W as M,Y as Ce,Q as be,X as we,ac as Re,u as je,B as ye}from"./index-eoQuXykc.js";var N="Popover",[$,Ze]=I(N,[k]),w=k(),[_e,h]=$(N),z=e=>{const{__scopePopover:a,children:o,open:n,defaultOpen:t,onOpenChange:s,modal:l=!1}=e,i=w(a),u=c.useRef(null),[d,p]=c.useState(!1),[v=!1,f]=j({prop:n,defaultProp:t,onChange:s});return r.jsx(ce,{...i,children:r.jsx(_e,{scope:a,contentId:ue(),triggerRef:u,open:v,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(_=>!_),[f]),hasCustomAnchor:d,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:o})})};z.displayName=N;var V="PopoverAnchor",Ne=c.forwardRef((e,a)=>{const{__scopePopover:o,...n}=e,t=h(V,o),s=w(o),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=t;return c.useEffect(()=>(l(),()=>i()),[l,i]),r.jsx(D,{...s,...n,ref:a})});Ne.displayName=V;var L="PopoverTrigger",W=c.forwardRef((e,a)=>{const{__scopePopover:o,...n}=e,t=h(L,o),s=w(o),l=S(a,t.triggerRef),i=r.jsx(b.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":Z(t.open),...n,ref:l,onClick:m(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?i:r.jsx(D,{asChild:!0,...s,children:i})});W.displayName=L;var T="PopoverPortal",[Te,Ae]=$(T,{forceMount:void 0}),B=e=>{const{__scopePopover:a,forceMount:o,children:n,container:t}=e,s=h(T,a);return r.jsx(Te,{scope:a,forceMount:o,children:r.jsx(F,{present:o||s.open,children:r.jsx(de,{asChild:!0,container:t,children:n})})})};B.displayName=T;var P="PopoverContent",H=c.forwardRef((e,a)=>{const o=Ae(P,e.__scopePopover),{forceMount:n=o.forceMount,...t}=e,s=h(P,e.__scopePopover);return r.jsx(F,{present:n||s.open,children:s.modal?r.jsx(Ge,{...t,ref:a}):r.jsx(Ee,{...t,ref:a})})});H.displayName=P;var Ge=c.forwardRef((e,a)=>{const o=h(P,e.__scopePopover),n=c.useRef(null),t=S(a,n),s=c.useRef(!1);return c.useEffect(()=>{const l=n.current;if(l)return pe(l)},[]),r.jsx(ve,{as:ge,allowPinchZoom:!0,children:r.jsx(K,{...e,ref:t,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),s.current||(i=o.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,d=i.button===2||u;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ee=c.forwardRef((e,a)=>{const o=h(P,e.__scopePopover),n=c.useRef(!1),t=c.useRef(!1);return r.jsx(K,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(n.current||(i=o.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:s=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const l=s.target;((d=o.triggerRef.current)==null?void 0:d.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),K=c.forwardRef((e,a)=>{const{__scopePopover:o,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,...v}=e,f=h(P,o),_=w(o);return fe(),r.jsx(xe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:s,children:r.jsx(he,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:r.jsx(me,{"data-state":Z(f.open),role:"dialog",id:f.contentId,..._,...v,ref:a,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U="PopoverClose",Oe=c.forwardRef((e,a)=>{const{__scopePopover:o,...n}=e,t=h(U,o);return r.jsx(b.button,{type:"button",...n,ref:a,onClick:m(e.onClick,()=>t.onOpenChange(!1))})});Oe.displayName=U;var ke="PopoverArrow",Ie=c.forwardRef((e,a)=>{const{__scopePopover:o,...n}=e,t=w(o);return r.jsx(Pe,{...t,...n,ref:a})});Ie.displayName=ke;function Z(e){return e?"open":"closed"}var Se=z,De=W,Fe=B,Q=H;const Me=Se,$e=De,X=c.forwardRef(({className:e,align:a="center",sideOffset:o=4,...n},t)=>r.jsx(Fe,{children:r.jsx(Q,{ref:t,align:a,sideOffset:o,className:y("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...n})}));X.displayName=Q.displayName;var ze="Toggle",A=c.forwardRef((e,a)=>{const{pressed:o,defaultPressed:n=!1,onPressedChange:t,...s}=e,[l=!1,i]=j({prop:o,onChange:t,defaultProp:n});return r.jsx(b.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:a,onClick:m(e.onClick,()=>{e.disabled||i(!l)})})});A.displayName=ze;var Y=A,C="ToggleGroup",[q,Qe]=I(C,[M]),J=M(),G=g.forwardRef((e,a)=>{const{type:o,...n}=e;if(o==="single"){const t=n;return r.jsx(Ve,{...t,ref:a})}if(o==="multiple"){const t=n;return r.jsx(Le,{...t,ref:a})}throw new Error(`Missing prop \`type\` expected on \`${C}\``)});G.displayName=C;var[ee,oe]=q(C),Ve=g.forwardRef((e,a)=>{const{value:o,defaultValue:n,onValueChange:t=()=>{},...s}=e,[l,i]=j({prop:o,defaultProp:n,onChange:t});return r.jsx(ee,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:i,onItemDeactivate:g.useCallback(()=>i(""),[i]),children:r.jsx(te,{...s,ref:a})})}),Le=g.forwardRef((e,a)=>{const{value:o,defaultValue:n,onValueChange:t=()=>{},...s}=e,[l=[],i]=j({prop:o,defaultProp:n,onChange:t}),u=g.useCallback(p=>i((v=[])=>[...v,p]),[i]),d=g.useCallback(p=>i((v=[])=>v.filter(f=>f!==p)),[i]);return r.jsx(ee,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:d,children:r.jsx(te,{...s,ref:a})})});G.displayName=C;var[We,Be]=q(C),te=g.forwardRef((e,a)=>{const{__scopeToggleGroup:o,disabled:n=!1,rovingFocus:t=!0,orientation:s,dir:l,loop:i=!0,...u}=e,d=J(o),p=be(l),v={role:"group",dir:p,...u};return r.jsx(We,{scope:o,rovingFocus:t,disabled:n,children:t?r.jsx(we,{asChild:!0,...d,orientation:s,dir:p,loop:i,children:r.jsx(b.div,{...v,ref:a})}):r.jsx(b.div,{...v,ref:a})})}),R="ToggleGroupItem",re=g.forwardRef((e,a)=>{const o=oe(R,e.__scopeToggleGroup),n=Be(R,e.__scopeToggleGroup),t=J(e.__scopeToggleGroup),s=o.value.includes(e.value),l=n.disabled||e.disabled,i={...e,pressed:s,disabled:l},u=g.useRef(null);return n.rovingFocus?r.jsx(Ce,{asChild:!0,...t,focusable:!l,active:s,ref:u,children:r.jsx(E,{...i,ref:a})}):r.jsx(E,{...i,ref:a})});re.displayName=R;var E=g.forwardRef((e,a)=>{const{__scopeToggleGroup:o,value:n,...t}=e,s=oe(R,o),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=s.type==="single"?l:void 0;return r.jsx(A,{...i,...t,ref:a,onPressedChange:u=>{u?s.onItemActivate(n):s.onItemDeactivate(n)}})}),ae=G,ne=re;const se=Re("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"border border-neutral-200 bg-transparent shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=c.forwardRef(({className:e,variant:a,size:o,...n},t)=>r.jsx(Y,{ref:t,className:y(se({variant:a,size:o,className:e})),...n}));He.displayName=Y.displayName;const le=c.createContext({size:"default",variant:"default"}),ie=c.forwardRef(({className:e,variant:a,size:o,children:n,...t},s)=>r.jsx(ae,{ref:s,className:y("flex items-center justify-center gap-1",e),...t,children:r.jsx(le.Provider,{value:{variant:a,size:o},children:n})}));ie.displayName=ae.displayName;const x=c.forwardRef(({className:e,children:a,variant:o,size:n,...t},s)=>{const l=c.useContext(le);return r.jsx(ne,{ref:s,className:y(se({variant:l.variant||o,size:l.size||n}),e),...t,children:a})});x.displayName=ne.displayName;function O(){const{innerWidth:e,innerHeight:a}=window;return{width:e,height:a}}function Ke(){const[e,a]=c.useState(O());return c.useEffect(()=>{function o(){a(O())}return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e}const Xe=({rarityFilter:e,setRarityFilter:a,deckbuildingMode:o})=>{const{width:n}=Ke(),t=n<768,{t:s}=je("rarity-filter");c.useEffect(()=>{if(o){const i=["◊","◊◊","◊◊◊","◊◊◊◊"];a(e.filter(u=>i.includes(u)))}},[o]);const l=c.useMemo(()=>r.jsxs(ie,{variant:"outline",type:"multiple",size:"sm",value:e,onValueChange:i=>a(i),className:`justify-end shadow-none border-2 border-slate-600 rounded-md ${t?"flex-col":"flex-row"}`,children:[r.jsx(x,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500",children:"♢"}),r.jsx(x,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢"}),r.jsx(x,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢♢"}),r.jsx(x,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500",children:"♢♢♢♢"}),!o&&r.jsxs(r.Fragment,{children:[r.jsx(x,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500",children:"☆"}),r.jsx(x,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500",children:"☆☆"}),r.jsx(x,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500",children:"☆☆☆"}),r.jsx(x,{value:"Crown Rare","aria-label":"♛",children:"👑"})]})]}),[e,t,o]);return t?r.jsxs(Me,{children:[r.jsx($e,{asChild:!0,children:r.jsxs(ye,{variant:"outline",children:[s("filters")," (",e.length,")"]})}),r.jsx(X,{className:"w-32",children:l})]}):l};export{Xe as R,Ke as u};
