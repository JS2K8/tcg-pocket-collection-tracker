import{u as N,r as c,q as _,F as j,j as e,D as g,w as v,x as b,y}from"./index-6eIvsgaq.js";const m=["◊","◊◊","◊◊◊","◊◊◊◊","☆"],C=({isTradeMatchesDialogOpen:f,setIsTradeMatchesDialogOpen:p,ownedCards:d,friendCards:l})=>{const{t}=N("trade-matches"),u=c.useMemo(()=>_.filter(a=>a.tradeable).map(a=>a.id),[]),i=c.useMemo(()=>{const a={"◊":[],"◊◊":[],"◊◊◊":[],"◊◊◊◊":[],"☆":[],"☆☆":[],"☆☆☆":[],"✵":[],"✵✵":[],"Crown Rare":[],Unknown:[],"":[]},n=l.filter(s=>s.amount_owned>=2),x=new Set(d.filter(s=>s.amount_owned>0).map(s=>s.card_id)),h=n.filter(s=>!x.has(s.card_id));for(const s of h){const r=j(s.card_id);r&&m.includes(r.rarity)&&u.includes(r.expansion)&&a[r.rarity].push({...r,amount_owned:s.amount_owned})}return a},[d,l]),o=c.useMemo(()=>{const a={"◊":[],"◊◊":[],"◊◊◊":[],"◊◊◊◊":[],"☆":[],"☆☆":[],"☆☆☆":[],"✵":[],"✵✵":[],"Crown Rare":[],Unknown:[],"":[]},n=d.filter(s=>s.amount_owned>=2),x=new Set(l.filter(s=>s.amount_owned>0).map(s=>s.card_id)),h=n.filter(s=>!x.has(s.card_id));for(const s of h){const r=j(s.card_id);r&&m.includes(r.rarity)&&u.includes(r.expansion)&&a[r.rarity].push({...r,amount_owned:s.amount_owned})}return a},[d,l]),w=c.useMemo(()=>m.some(a=>i[a].length>0&&o[a].length>0),[i,o]);return e.jsx(g,{open:f,onOpenChange:p,children:e.jsxs(v,{className:"border-2 border-slate-600 shadow-none max-w-4xl h-[90vh]",children:[e.jsx(b,{children:e.jsx(y,{children:t("title")})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[!w&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl text-gray-500",children:t("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:t("noPossibleTradesDescription")})]}),m.map(a=>i[a].length>0&&o[a].length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:t("friendHas")}),e.jsx("div",{className:"border rounded p-2 max-h-60 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:i[a].map(n=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"min-w-14 me-4",children:n.card_id}),e.jsx("div",{children:n.name})]}),e.jsxs("span",{className:"text-gray-500",children:["×",n.amount_owned]})]},n.card_id))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:t("youHave")}),e.jsx("div",{className:"border rounded p-2 max-h-60 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:o[a].map(n=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"min-w-14 me-4",children:n.card_id}),e.jsx("div",{children:n.name})]}),e.jsxs("span",{className:"text-gray-500",children:["×",n.amount_owned]})]},n.card_id))})})]})]})]},a))]})]})})};export{C as default};
